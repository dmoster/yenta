<!DOCTYPE html>
<html>
<head>
  <% include ../partials/header.ejs %>
  <title>Yenta | View Matches</title>
</head>

<body onload="selectGame()">

  <% include ../partials/nav-logged-in.ejs %>

  <div class="container">
    <h1>Matches</h1>
    <div class="row">
      <% if (games.length > 0) { %>
        <div class="col-md-3 mb-3">
          <div class="list-group" id="list-tab" role="tablist">
            <% games.forEach(game => { %>
              <a class="list-group-item list-group-item-action" data-toggle="list" href="#game-<%= game.id %>" role="tab" id="gameSelector<%= game.id %>">
                <div class="d-flex justify-content-between align-items-center">
                  <small><%= game.title %></small>
                  <% if (game.matches && game.matches.length > 0) { %>
                    <span class="badge badge-pill badge-success"><%= game.matches.length %></span>
                  <% } else { %>
                    <span class="badge badge-pill badge-danger">0</span>
                  <% } %>
                </div>
              </a>
            <% }) %>
          </div>
        </div>
        <div class="col-md-9">
          <div class="tab-content" id="nav-tabContent">
            <% games.forEach(game => { %>
              <div class="tab-pane fade" id="game-<%= game.id %>" role="tabpanel">
                <h2><%= game.title %></h2>
              </div>
            <% }) %>
          </div>
        </div>
      <% } %>
    </div>

  </div>
  <% include ../partials/logout-modal.ejs %>

  <% include ../partials/footer.ejs %>
  <script src="/js/matches.js"></script>

</body>
</html>
